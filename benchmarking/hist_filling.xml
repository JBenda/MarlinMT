<?xml version="1.0" encoding="us-ascii"?>

<marlin>
  <execute>
    <processor name="CPUCrunch"/>
    <if condition="!${RunNative}">
      <processor name="HistFilling"/>
    </if>
    <if condition="${RunNative}">
      <processor name="HistFillingNative"/>
    </if>
  </execute>
  <constants>
    <constant name="TriggerUnpacking" value="false"/>
    <constant name="RunNative" value="false"/>
  </constants>

  <global>
    <parameter name="Verbosity"> MESSAGE </parameter>
    <parameter name="ColoredConsole"> 0 </parameter>
    <parameter name="Concurrency">3</parameter>
  </global>

  <bookstore>
    <parameter name="OutputFile">HistFill.root</parameter>
    <parameter name="DefaultMemoryLayout">Copy</parameter>
  </bookstore>

  <datasource type="LCIO">
    <parameter name="LCIOInputFiles">  </parameter>
    <parameter name="MaxRecordNumber" value="0"/>
    <parameter name="SkipNEvents" value="0"/>
    <parameter name="LazyUnpack" value="true"/>
  </datasource>

  
  <geometry type="EmptyGeometry" />

  <processor name="CPUCrunch" type="CPUCrunching" clone="false" critical="false">
    <parameter name="Verbosity">WARNING</parameter>
    <parameter name="CrunchTime"> 50 </parameter>
    <parameter name="CrunchSigma"> 0 </parameter>
  </processor>

  <processor name="HistFillingNative" type="MarlinBenchHistNativeProcessor">
    <parameter name="NBins">100</parameter>
    <parameter name="NHists">5</parameter>
    <parameter name="NFills">1000</parameter>
    <parameter name="Shared">false</parameter>
  </processor>
  <processor name="HistFilling" type="MarlinBenchHistProcessor">
    <parameter name="NBins">100</parameter>
    <parameter name="NHists">105</parameter>
    <parameter name="NFills">1000</parameter>
  </processor >

</marlin>
